# Containers for transitive requires test - Middle requires Leaf
- space: my_space
  externalId: TransitiveParent
  usedFor: node
  properties:
    fieldA:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: TransitiveMiddle
  usedFor: node
  properties:
    fieldB:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_leaf:
      constraintType: requires
      require:
        space: my_space
        externalId: TransitiveLeaf
        type: container

- space: my_space
  externalId: TransitiveLeaf
  usedFor: node
  properties:
    fieldC:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# Containers for partial overlap / better coverage test
- space: my_space
  externalId: TagContainer
  usedFor: node
  properties:
    tagId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: TagAssetContainer
  usedFor: node
  properties:
    assetName:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_describable:
      constraintType: requires
      require:
        space: my_space
        externalId: TagDescribableContainer
        type: container

- space: my_space
  externalId: TagDescribableContainer
  usedFor: node
  properties:
    description:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# Containers for "Tag requires Sourceable instead of Asset" bridge test
# Key: BridgeTagContainer requires SourceableContainer (suboptimal choice)
#      BridgeAssetContainer requires SourceableContainer AND BridgeDescribableContainer
#      BridgeSiblingAContainer should recommend BridgeTagContainer â†’ BridgeAssetContainer
- space: my_space
  externalId: BridgeSourceableContainer
  usedFor: node
  properties:
    sourceId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: BridgeDescribableContainer
  usedFor: node
  properties:
    description:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: BridgeAssetContainer
  usedFor: node
  properties:
    assetName:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_sourceable:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeSourceableContainer
        type: container
    req_describable:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container

- space: my_space
  externalId: BridgeTagContainer
  usedFor: node
  properties:
    tagName:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_sourceable:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeSourceableContainer
        type: container

- space: my_space
  externalId: BridgeSiblingAContainer
  usedFor: node
  properties:
    siblingAId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_tag:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeTagContainer
        type: container

# Additional sibling containers - independent of each other but share Tag and Describable
- space: my_space
  externalId: BridgeSiblingBContainer
  usedFor: node
  properties:
    equipmentBId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_tag:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeTagContainer
        type: container

- space: my_space
  externalId: BridgeSiblingCContainer
  usedFor: node
  properties:
    equipmentCId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_tag:
      constraintType: requires
      require:
        space: my_space
        externalId: BridgeTagContainer
        type: container

# Containers for RequiresConstraintCycle test - A requires B, B requires A
- space: my_space
  externalId: CycleContainerA
  usedFor: node
  properties:
    propA:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_b:
      constraintType: requires
      require:
        space: my_space
        externalId: CycleContainerB
        type: container

- space: my_space
  externalId: CycleContainerB
  usedFor: node
  properties:
    propB:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_a:
      constraintType: requires
      require:
        space: my_space
        externalId: CycleContainerA
        type: container

# Containers for conflicting siblings test
# SharedConflictContainer appears in two views with disjoint siblings (FileContainer, TimeSeriesContainer)
# This creates an unsolvable design conflict
- space: my_space
  externalId: SharedConflictContainer
  usedFor: node
  properties:
    sharedField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: ConflictFileContainer
  usedFor: node
  properties:
    fileField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: ConflictTimeSeriesContainer
  usedFor: node
  properties:
    tsField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# Disconnected component test - Group A (never appears with Group B)
- space: my_space
  externalId: DisconnectedGroupAContainer1
  usedFor: node
  properties:
    groupAField1:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: DisconnectedGroupAContainer2
  usedFor: node
  properties:
    groupAField2:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# Disconnected component test - Group B (never appears with Group A)
- space: my_space
  externalId: DisconnectedGroupBContainer1
  usedFor: node
  properties:
    groupBField1:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: DisconnectedGroupBContainer2
  usedFor: node
  properties:
    groupBField2:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# CDF bridge container - tests that MST avoids CDF containers as sources
# User containers connected via this CDF bridge should still get proper recommendations
- space: cdf_cdm
  externalId: CdfBridgeContainer
  usedFor: node
  properties:
    bridgeField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# User containers that will be connected via CDF bridge
- space: my_space
  externalId: CdfBridgeUserAContainer
  usedFor: node
  properties:
    userAField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: CdfBridgeUserBContainer
  usedFor: node
  properties:
    userBField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
