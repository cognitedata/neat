# Test data for requires constraint recommendations
# Naming convention: Level01=equipment(root), Level02=tag, Level03=describable(leaf)
# Alphabetically Level01 < Level02 < Level03, but hierarchy should be Level01 → Level02 → Level03

# Tag points to wrong target (Sourceable) instead of correct target (Describable)
- space: my_space
  externalId: Level03_SourceableContainer
  usedFor: node
  properties:
    sourceId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: Level03_DescribableContainer
  usedFor: node
  properties:
    description:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: Level02_AssetContainer
  usedFor: node
  properties:
    assetName:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_sourceable:
      constraintType: requires
      require:
        space: my_space
        externalId: Level03_SourceableContainer
        type: container
    req_describable:
      constraintType: requires
      require:
        space: my_space
        externalId: Level03_DescribableContainer
        type: container

- space: my_space
  externalId: Level02_TagWithWrongRequiresContainer
  usedFor: node
  properties:
    tagName:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_sourceable:
      constraintType: requires
      require:
        space: my_space
        externalId: Level03_SourceableContainer
        type: container

- space: my_space
  externalId: Level01_ValveContainer
  usedFor: node
  properties:
    valveId:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_tag:
      constraintType: requires
      require:
        space: my_space
        externalId: Level02_TagWithWrongRequiresContainer
        type: container

# User containers connected via immutable CDM container (CogniteDescribable)
- space: my_space
  externalId: ImmutableBridgeUserAContainer
  usedFor: node
  properties:
    userAField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: ImmutableBridgeUserBContainer
  usedFor: node
  properties:
    userBField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# View-specific containers (Level01) vs shared containers (Level02/03)
# FuncLoc is view-specific, Tag/Describable are shared across views
- space: my_space
  externalId: Level01_FunctionalLocationContainer
  usedFor: node
  properties:
    funcLocField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: Level02_SharedTagContainer
  usedFor: node
  properties:
    sharedTagField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: Level02_SharedAssetContainer
  usedFor: node
  properties:
    sharedAssetField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
  constraints:
    req_describable:
      constraintType: requires
      require:
        space: my_space
        externalId: Level03_SharedDescribableContainer
        type: container

- space: my_space
  externalId: Level03_SharedDescribableContainer
  usedFor: node
  properties:
    sharedDescField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: Level01_PumpEquipmentContainer
  usedFor: node
  properties:
    pumpField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# User container extending CDM (CogniteAsset already requires CogniteDescribable)
- space: my_space
  externalId: CogniteAssetExtensionContainer
  usedFor: node
  properties:
    tagField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: CogniteAssetExtensionSolutionModelScenarioContainer
  usedFor: node
  properties:
    equipmentField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

# Test scenario: Equipment views connecting through user Tag and CDM containers
# Tests: When 2 equipment containers appear together WITHOUT their shared Tag,
# the view should not be optimizable (UnsolvableEquipmentView)
# Pump, HeatExchanger, Compressor all connect through EquipmentTag
- space: my_space
  externalId: EquipmentPumpContainer
  usedFor: node
  properties:
    pumpField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: EquipmentHeatExchangerContainer
  usedFor: node
  properties:
    heatExchangerField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: EquipmentCompressorContainer
  usedFor: node
  properties:
    compressorField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false

- space: my_space
  externalId: EquipmentTagContainer
  usedFor: node
  properties:
    tagField:
      immutable: false
      nullable: true
      type:
        type: text
        list: false
