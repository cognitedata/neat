# Simple view with complete hierarchy (Asset requires Describable)
- space: my_space
  externalId: CompleteHierarchyView
  version: v1
  name: Complete Hierarchy View
  description: View where containers already have complete requires hierarchy
  properties:
    assetField:
      name: assetField
      description: Field from Asset
      container:
        space: my_space
        externalId: BridgeAssetContainer
        type: container
      containerPropertyIdentifier: assetField
    descField:
      name: descField
      description: Field from Describable
      container:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container
      containerPropertyIdentifier: description

# View for transitive requires test - Parent, Middle, Leaf together where Middle requires Leaf
- space: my_space
  externalId: TransitiveView
  version: v1
  name: Transitive View
  description: View for testing transitive requires recommendations
  properties:
    fieldA:
      name: fieldA
      description: Field A
      container:
        space: my_space
        externalId: TransitiveParent
        type: container
      containerPropertyIdentifier: fieldA
    fieldB:
      name: fieldB
      description: Field B
      container:
        space: my_space
        externalId: TransitiveMiddle
        type: container
      containerPropertyIdentifier: fieldB
    fieldC:
      name: fieldC
      description: Field C
      container:
        space: my_space
        externalId: TransitiveLeaf
        type: container
      containerPropertyIdentifier: fieldC

# Views for "Tag requires Sourceable instead of Asset" bridge test
# BridgeSiblingAView: maps to SiblingA, Tag, Describable (NOT Asset)
# BridgeTagView: maps to Tag, Asset, Describable
# Expected: BridgeTagContainer → BridgeAssetContainer should be recommended for BridgeSiblingAView
- space: my_space
  externalId: BridgeSiblingAView
  version: v1
  name: Bridge Sibling A View
  description: View mapping to SiblingA, Tag, Describable (NOT Asset)
  properties:
    siblingAId:
      name: siblingAId
      description: Sibling A ID
      container:
        space: my_space
        externalId: BridgeSiblingAContainer
        type: container
      containerPropertyIdentifier: siblingAId
    tagName:
      name: tagName
      description: Tag Name
      container:
        space: my_space
        externalId: BridgeTagContainer
        type: container
      containerPropertyIdentifier: tagName
    description:
      name: description
      description: Description
      container:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container
      containerPropertyIdentifier: description

# Additional equipment views - independent of each other but share Tag and Describable
- space: my_space
  externalId: BridgeSiblingBView
  version: v1
  name: Bridge Sibling B View
  description: View mapping to SiblingB, Tag, Describable
  properties:
    equipmentBId:
      name: equipmentBId
      description: Sibling B ID
      container:
        space: my_space
        externalId: BridgeSiblingBContainer
        type: container
      containerPropertyIdentifier: equipmentBId
    tagName:
      name: tagName
      description: Tag Name
      container:
        space: my_space
        externalId: BridgeTagContainer
        type: container
      containerPropertyIdentifier: tagName
    description:
      name: description
      description: Description
      container:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container
      containerPropertyIdentifier: description

- space: my_space
  externalId: BridgeSiblingCView
  version: v1
  name: Bridge Sibling C View
  description: View mapping to SiblingC, Tag, Describable
  properties:
    equipmentCId:
      name: equipmentCId
      description: Sibling C ID
      container:
        space: my_space
        externalId: BridgeSiblingCContainer
        type: container
      containerPropertyIdentifier: equipmentCId
    tagName:
      name: tagName
      description: Tag Name
      container:
        space: my_space
        externalId: BridgeTagContainer
        type: container
      containerPropertyIdentifier: tagName
    description:
      name: description
      description: Description
      container:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container
      containerPropertyIdentifier: description

- space: my_space
  externalId: BridgeTagView
  version: v1
  name: Bridge Tag View
  description: View mapping to Tag, Asset, Describable
  properties:
    tagName:
      name: tagName
      description: Tag Name
      container:
        space: my_space
        externalId: BridgeTagContainer
        type: container
      containerPropertyIdentifier: tagName
    assetName:
      name: assetName
      description: Asset Name
      container:
        space: my_space
        externalId: BridgeAssetContainer
        type: container
      containerPropertyIdentifier: assetName
    description:
      name: description
      description: Description
      container:
        space: my_space
        externalId: BridgeDescribableContainer
        type: container
      containerPropertyIdentifier: description

# View for RequiresConstraintCycle test
- space: my_space
  externalId: CycleTestView
  version: v1
  name: Cycle Test View
  description: View for testing cycle detection
  properties:
    propCycleA:
      name: propCycleA
      description: Property from CycleContainerA
      container:
        space: my_space
        externalId: CycleContainerA
        type: container
      containerPropertyIdentifier: propA
    propCycleB:
      name: propCycleB
      description: Property from CycleContainerB
      container:
        space: my_space
        externalId: CycleContainerB
        type: container
      containerPropertyIdentifier: propB

# Disconnected component test - View for Group A (never appears with Group B)
- space: my_space
  externalId: DisconnectedGroupAView
  version: v1
  properties:
    groupAField1:
      name: groupAField1
      description: Field from DisconnectedGroupAContainer1
      container:
        space: my_space
        externalId: DisconnectedGroupAContainer1
        type: container
      containerPropertyIdentifier: groupAField1
    groupAField2:
      name: groupAField2
      description: Field from DisconnectedGroupAContainer2
      container:
        space: my_space
        externalId: DisconnectedGroupAContainer2
        type: container
      containerPropertyIdentifier: groupAField2

# Disconnected component test - View for Group B (never appears with Group A)
- space: my_space
  externalId: DisconnectedGroupBView
  version: v1
  properties:
    groupBField1:
      name: groupBField1
      description: Field from DisconnectedGroupBContainer1
      container:
        space: my_space
        externalId: DisconnectedGroupBContainer1
        type: container
      containerPropertyIdentifier: groupBField1
    groupBField2:
      name: groupBField2
      description: Field from DisconnectedGroupBContainer2
      container:
        space: my_space
        externalId: DisconnectedGroupBContainer2
        type: container
      containerPropertyIdentifier: groupBField2

# CDF bridge scenario - user containers connected via CDF container
# Tests that MST avoids CDF sources and creates proper user-sourced hierarchy
- space: my_space
  externalId: CdfBridgeViewA
  version: v1
  properties:
    bridgeField:
      name: bridgeField
      description: Field from CDF bridge
      container:
        space: cdf_cdm
        externalId: CdfBridgeContainer
        type: container
      containerPropertyIdentifier: bridgeField
    userAField:
      name: userAField
      description: Field from UserA
      container:
        space: my_space
        externalId: CdfBridgeUserAContainer
        type: container
      containerPropertyIdentifier: userAField

# View B: CdfBridge + UserB (UserA NOT here)
- space: my_space
  externalId: CdfBridgeViewB
  version: v1
  properties:
    bridgeField:
      name: bridgeField
      description: Field from CDF bridge
      container:
        space: cdf_cdm
        externalId: CdfBridgeContainer
        type: container
      containerPropertyIdentifier: bridgeField
    userBField:
      name: userBField
      description: Field from UserB
      container:
        space: my_space
        externalId: CdfBridgeUserBContainer
        type: container
      containerPropertyIdentifier: userBField

# View with ALL THREE: UserA, UserB, CdfBridge
- space: my_space
  externalId: CdfBridgeCombinedView
  version: v1
  properties:
    bridgeField:
      name: bridgeField
      description: Field from CDF bridge
      container:
        space: cdf_cdm
        externalId: CdfBridgeContainer
        type: container
      containerPropertyIdentifier: bridgeField
    userAField:
      name: userAField
      description: Field from UserA
      container:
        space: my_space
        externalId: CdfBridgeUserAContainer
        type: container
      containerPropertyIdentifier: userAField
    userBField:
      name: userBField
      description: Field from UserB
      container:
        space: my_space
        externalId: CdfBridgeUserBContainer
        type: container
      containerPropertyIdentifier: userBField

# FunctionalLocation-like scenario
# FuncLocView: FuncLocContainer (view-specific), SharedTagContainer (shared), SharedDescribableContainer
# SharedTagView: SharedTagContainer, SharedAssetContainer, SharedDescribableContainer
# SharedAssetContainer already requires SharedDescribableContainer
# Expected: FuncLocContainer → SharedTagContainer (not Tag → FuncLoc!)
#           SharedTagContainer → SharedAssetContainer (to leverage Asset's requires)
- space: my_space
  externalId: FuncLocView
  version: v1
  properties:
    funcLocField:
      name: funcLocField
      description: Field from FuncLoc
      container:
        space: my_space
        externalId: FuncLocContainer
        type: container
      containerPropertyIdentifier: funcLocField
    sharedTagField:
      name: sharedTagField
      description: Field from SharedTag
      container:
        space: my_space
        externalId: SharedTagContainer
        type: container
      containerPropertyIdentifier: sharedTagField
    sharedDescField:
      name: sharedDescField
      description: Field from SharedDescribable
      container:
        space: my_space
        externalId: SharedDescribableContainer
        type: container
      containerPropertyIdentifier: sharedDescField

- space: my_space
  externalId: SharedTagView
  version: v1
  properties:
    sharedTagField:
      name: sharedTagField
      description: Field from SharedTag
      container:
        space: my_space
        externalId: SharedTagContainer
        type: container
      containerPropertyIdentifier: sharedTagField
    sharedAssetField:
      name: sharedAssetField
      description: Field from SharedAsset
      container:
        space: my_space
        externalId: SharedAssetContainer
        type: container
      containerPropertyIdentifier: sharedAssetField
    sharedDescField:
      name: sharedDescField
      description: Field from SharedDescribable
      container:
        space: my_space
        externalId: SharedDescribableContainer
        type: container
      containerPropertyIdentifier: sharedDescField

# Second equipment view (like Pump) - shares Tag with FuncLocView
# PumpContainer should be outermost for THIS view, not FuncLocContainer or Tag
- space: my_space
  externalId: PumpView
  version: v1
  properties:
    pumpField:
      name: pumpField
      description: Field from Pump
      container:
        space: my_space
        externalId: PumpContainer
        type: container
      containerPropertyIdentifier: pumpField
    sharedTagField:
      name: sharedTagField
      description: Field from SharedTag
      container:
        space: my_space
        externalId: SharedTagContainer
        type: container
      containerPropertyIdentifier: sharedTagField
    sharedDescField:
      name: sharedDescField
      description: Field from SharedDescribable
      container:
        space: my_space
        externalId: SharedDescribableContainer
        type: container
      containerPropertyIdentifier: sharedDescField
